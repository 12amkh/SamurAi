<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SamurAI</title>

    <link href="https://fonts.cdnfonts.com/css/samurai" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/noto-serif-thai" rel="stylesheet">
    <link rel="icon" href="https://www.freepik.com/icon/samurai_6981183#fromView=keyword&page=1&position=11&uuid=4f44494c-bd1e-4308-a856-0739337b3937" type="image/png">

    <!-- Link to the stylesheet located in the static folder -->
    <link rel="stylesheet" href="style.css">

    <!-- Smooth Scroll (optional but useful for scroll behavior) -->
    <style>
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav>
        <ul>
            <li><a href="#home">HOME</a></li>
            <li><a href="#form-section">MODEL</a></li>
            <li><a href="#process">ABOUT</a></li>
        </ul>
    </nav>

    <!-- Full-screen Hero Section for Page Title and Description -->
    <section class="hero-section" id="home">
        <div class="hero-content">
            <h1>SAMURAi</h1>
            <p>Get lightning-fast, accurate summaries with the power of AI â€“ turn lengthy articles, reports, and books into key insights in seconds!</p>
        </div>
    </section>

    <hr>

    <!-- Form Section -->
    <section class="form-section" id="form-section">
        <div class="container">
            <header>
                <h1>Enter Your Text</h1>
            </header>
            <form id="summarize-form">
                <textarea class="form" id="text" rows="20" cols="50" required></textarea>
                <br><br>
                <button type="submit">Summarize Text</button>
            </form>

            <!-- Summary Section (shown after form submission) -->
            <div id="summary-section" class="glass" style="display:none;">
                <h2>Summary:</h2>
                <p id="summary-text"></p>
            </div>

            <!-- Sentiment Analysis Section (shown after form submission) -->
            <div id="sentiment-section" class="glass" style="display:none;">
                <h2>Sentiment Analysis:</h2>
                <p id="sentiment"></p>
                <p id="confidence-score"></p>
            </div>

            <!-- Error Section (if something goes wrong with the API) -->
            <div id="error-section" class="error-section" style="display:none;">
                <p id="error-message"></p>
            </div>
        </div>
    </section>

    <hr>

    <!-- Deployment Process Section -->
    <section class="process-section" id="process">
        <div class="container">
            <header>
                <h1>About</h1>
            </header>
            <p>"The BART model (Bidirectional and Auto-Regressive Transformers) is a state-of-the-art AI model developed by Facebook AI for natural language processing tasks like text summarization. By combining the strengths of both bidirectional encoding (similar to BERT) and autoregressive decoding (like GPT), BART excels at understanding and generating coherent summaries. It's highly accurate, efficient, and can handle various types of text, making it perfect for quickly generating meaningful insights from long documents."</p>
        </div>
    </section>

    <hr>

    <!-- Add JavaScript for API interaction -->
    <script>
        document.getElementById('summarize-form').addEventListener('submit', async (event) => {
            event.preventDefault();

            const text = document.getElementById('text').value.trim();
            if (!text) {
                alert("Please enter some text!");
                return;
            }

            const HF_URL = "https://api-inference.huggingface.co/models/facebook/bart-large-cnn";
            const HUGGINGFACE_API_KEY = "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";
            const headers = {
                "Authorization": `Bearer ${HUGGINGFACE_API_KEY}`,
                "Content-Type": "application/json"
            };
            const data = { inputs: text };

            try {
                const response = await fetch(HF_URL, {
                    method: 'POST',
                    headers: headers,
                    body: JSON.stringify(data)
                });

                if (response.ok) {
                    const result = await response.json();
                    const summary = result[0].summary_text;

                    // Show the summary
                    document.getElementById('summary-text').textContent = summary;
                    document.getElementById('summary-section').style.display = 'block';

                    // Example: Show Sentiment Analysis (if you want to add it later)
                    // For now, let's assume it's a mock sentiment analysis
                    const sentiment = "Positive";  // Example sentiment
                    const confidence = "Confidence Score: 95%";  // Example confidence score

                    document.getElementById('sentiment').textContent = `Sentiment: ${sentiment}`;
                    document.getElementById('confidence-score').textContent = confidence;
                    document.getElementById('sentiment-section').style.display = 'block';
                } else {
                    throw new Error("Error occurred while summarizing.");
                }
            } catch (error) {
                document.getElementById('error-message').textContent = error.message;
                document.getElementById('error-section').style.display = 'block';
            }
        });
    </script>
</body>
</html>
